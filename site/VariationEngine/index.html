<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Variation Engine - Limulator</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Variation Engine";
        var mkdocs_page_input_path = "VariationEngine.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Limulator
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Scenenario Generator</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../LLM-Scenario-Builder/">LLM Scenario Builder</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../OSM2XODR/">OSM To XODR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ManeuverGenerator/">Manuever Generator</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Variation Engine</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#version-10">Version 1.0</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#developer-marut-priyadarshi">Developer: Marut Priyadarshi</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#1-summary">1. Summary</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#2-method">2. Method</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#21-inputs">2.1 Inputs</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#22-parameter-search">2.2 Parameter Search</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#23-parameter-reference">2.3 Parameter Reference</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#24-permutor">2.4 Permutor:</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#25-file-writer">2.5 File Writer:</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#3-requirements">3. Requirements</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Simulation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../game/">Game</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../lights/">Lights</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../map/">Map</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../weather/">Weather</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../visualizer/">Visalizer</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../core/">Core</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../TrafficManager/">Traffic</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../PedestrianManager/">Pedestrian</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Util/">Util</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Sensor</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../CameraSensor/">Camera</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../DepthCamera/">Depth Camera</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SemanticSegmentationCamera/">Semantic Segmentation Camera</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../LidarSensor/">Rotation Lidar</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SolidStateLidarSensor/">Solid State Lidar</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../BoundingBoxSensor/">Bounding Box Sensor</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Radar/">Radar</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Modelling</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ToolSummary/">Tool Summary</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../LightsModelling/">Lights</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../PedestrianModelling/">Pedestrians</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../VehiclesModelling/">Vehicles</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Limulator</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Scenenario Generator</li>
      <li class="breadcrumb-item active">Variation Engine</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="variation-engine">Variation Engine</h1>
<h2 id="version-10">Version 1.0</h2>
<h3 id="developer-marut-priyadarshi">Developer: Marut Priyadarshi</h3>
<h2 id="1-summary">1. Summary</h2>
<p>This module takes OpenScenario files as input and, using a parameter reference database of supported parameters, generates variations of the input xosc file, one at a time or in bulk.</p>
<h2 id="2-method">2. Method</h2>
<p><img alt="Dataflow Diagram" src="../resources/variation_generator_module.png" /></p>
<h3 id="21-inputs">2.1 Inputs</h3>
<p>The user makes a number of selections before executing the module:
  1. Selecting the OpenScenario file, multiple files or a folder containing multiple OpenScenario files.
  2. Selecting from a list of available options, the parameters which will be permuted when generating variations.
  3. Selecting the type of distribution logic for the permutation of numeric parameters.
      + Dense: The parameter is uniformly distributed in the range of +/-10% of the original parameter value.
      + Sparse: The parameter is uniformly distributed in the maximum range defined in the reference database for that category of parameter.</p>
<h3 id="22-parameter-search">2.2 Parameter Search</h3>
<p>Based on the user input, the module searches the xosc file for the selected parameters.
  There are different functions for searching and handling the parameters based on their datatype and values:
  1. <code>speedSearch()</code>: This searches for instances of initial speed parameters of vehicles.
  2. <code>bodyChange()</code>: This searches for vehicle model parameters.
  3. <code>accelChange()</code>: This searches for the acceleration parameters.
  4. <code>decelChange()</code>: This searches for deceleration parameters.
  5. <code>laneChangeSpeed()</code>: This searches for the parameter which defines the duration of the lane change action.</p>
<p>When the module encounters an instance of the selected parameters, it calls the <code>permuteNum()</code> or <code>permuteStr()</code> function to generate permutations. Then it continues the search for the next instance of the selected parameters.</p>
<h3 id="23-parameter-reference">2.3 Parameter Reference</h3>
<p>We have created a database which contains the supported parameters on which permutations can be performed, the permissible ranges for those parameters (eg: speed, acceleration) and different range of values for categories of vehicles. </p>
<p>Currently, different categories of vehicles (cars, trucks) get generic values for their cateegory parameters. Future support for different values for each vehicle model is planned.</p>
<p>This database is referenced by the permutation module while generating variations to define the ranges for the numerical valued parameters.</p>
<h3 id="24-permutor">2.4 Permutor:</h3>
<p>After encountering an instance of the parameter in the search, the module cross-references it with the Parameter Reference and depending on the distribution logic input by the user, it generates variations of the scenario by permuting the current parameter. The function used is dependent on the datatype of the parameter
 1. <code>permuteNum()</code>handles the permutation of numeric valued parameters (integer, float, double)
 2. <code>permuteStr()</code>handles the permutation of string valued parameters.</p>
<p>Before completing an execution cycle, the function resets the parameter value to its original value before giving the control back to the parameter search module.</p>
<h3 id="25-file-writer">2.5 File Writer:</h3>
<p>The permutor module calls the <code>write()</code> module to continously write the generated permutations into new xosc files, generating the variations of the input xosc file(s)</p>
<h2 id="3-requirements">3. Requirements</h2>
<ul>
<li>Python 3.10</li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../ManeuverGenerator/" class="btn btn-neutral float-left" title="Manuever Generator"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../game/" class="btn btn-neutral float-right" title="Game">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../ManeuverGenerator/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../game/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
