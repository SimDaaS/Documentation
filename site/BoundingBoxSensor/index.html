<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Bounding Box Sensor - Limulator</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Bounding Box Sensor";
        var mkdocs_page_input_path = "BoundingBoxSensor.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Limulator
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Scenenario Generator</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../LLM-Scenario-Builder/">LLM Scenario Builder</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../OSM2XODR/">OSM To XODR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ManeuverGenerator/">Manuever Generator</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../VariationEngine/">Variation Engine</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Simulation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../game/">Game</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../lights/">Lights</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../map/">Map</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../weather/">Weather</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../visualizer/">Visalizer</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../core/">Core</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../TrafficManager/">Traffic</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../PedestrianManager/">Pedestrian</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Util/">Util</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Sensor</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../CameraSensor/">Camera</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../DepthCamera/">Depth Camera</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SemanticSegmentationCamera/">Semantic Segmentation Camera</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../LidarSensor/">Rotation Lidar</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SolidStateLidarSensor/">Solid State Lidar</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Bounding Box Sensor</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#version">Version</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#developer">Developer</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#1-summary">1. Summary</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#2-method">2. Method</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#data-flow-diagram">Data Flow Diagram:</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#bounding-box-sensor-attributes">Bounding Box Sensor attributes:</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#output">Output:</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#3-requirements">3. Requirements</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Radar/">Radar</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Modelling</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ToolSummary/">Tool Summary</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../LightsModelling/">Lights</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../PedestrianModelling/">Pedestrians</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../VehiclesModelling/">Vehicles</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Limulator</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Sensor</li>
      <li class="breadcrumb-item active">Bounding Box Sensor</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="module-name">Module Name</h1>
<p>Bounding Box Sensor</p>
<h2 id="version">Version</h2>
<h3 id="developer">Developer</h3>
<h2 id="1-summary">1. Summary</h2>
<p>The Bounding Box Sensor is used to show bounding boxes (2D and 3D) around the selected class of objects presnet in the frame. This sensor first calculates the bounding boxes and then creates a bounding box around each objects on the basis of taking distance and class of object (vehicle, pedestrains, traffic signals, roadside objects, and all of these), alongwith extracting bounding box information from the selected object classes. Extracted information include: frame number, actor ID, class type, center, extends, and distance from the sensor.</p>
<p>Contains two clickable options: </p>
<ol>
<li>2D Boxes: Allows two dimeniosnal bounding boxes (rectangular boxes) around the objects</li>
<li>3D Boxes: Allows three dimeniosnal bounding boxes (cuboidial boxes) around the objects</li>
</ol>
<p>Other Customisable Parameters:</p>
<ol>
<li>Image Dimensions (width x height)</li>
<li>Output Location</li>
</ol>
<h2 id="2-method">2. Method</h2>
<p>The sensor first requires inputs of whether the bounds need to be displayed in 2D boxes or 3D boxes and the maximum distance till which the objects are to be considered drawing bounding boxes. 
First, a mask corresponmding to each of the 29 classes are created {classes are defined in <code>Annotator.cpp</code>}, and these are then masked to either "true" and "false" for objects of importance interms of bounding box detections (classes such as Boundary Fencing, Bustand, Tunnels, etc are excluded, i.e. provided a "false" mask as these posses not much significance in terms of bounding boxes on one hand while on the other and classes such as vehicles, pedestrians, etc are masked as "true"). Then, each of the actors belonging to the true masks are fetched for their class information and their box extents are calculated. </p>
<h3 id="data-flow-diagram">Data Flow Diagram:</h3>
<p><img alt="Bounding Box Data Flow" src="../resources/BoundingBoxSensor.jpg" /></p>
<h3 id="bounding-box-sensor-attributes">Bounding Box Sensor attributes:</h3>
<table>
<thead>
<tr>
<th>Input Attributes</th>
<th>Type</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Distance</code></td>
<td>float</td>
<td>5000 cm</td>
<td>Maximum distance to the objects to be detected by bounding boxes</td>
</tr>
<tr>
<td><code>bIncludeVehicle</code></td>
<td>boolean</td>
<td>false</td>
<td>Boolean that takes input whether the vehicles are to be considered as actors surrounded by bounding boxes</td>
</tr>
<tr>
<td><code>bIncludePedestrians</code></td>
<td>boolean</td>
<td>false</td>
<td>Boolean that takes input whether the pedestrians are to be considered as actors surrounded by bounding boxes</td>
</tr>
<tr>
<td><code>bIncludeTrafficSignals</code></td>
<td>boolean</td>
<td>false</td>
<td>Boolean that takes input whether the traffic sign board/signals are to be considered as actors surrounded by bounding boxes</td>
</tr>
<tr>
<td><code>bIncludeRoadsideObjects</code></td>
<td>boolean</td>
<td>false</td>
<td>Boolean that takes input whether the roadside objects such as traffic cones are to be considered as actors surrounded by bounding boxes</td>
</tr>
<tr>
<td><code>bIncludeAll</code></td>
<td>boolean</td>
<td>true</td>
<td>Boolean that makes sure all actors are to be considered for calculating the bounding boxes</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Output Attributes</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Id</code></td>
<td>int</td>
<td>Unique identifier of the detected actor</td>
</tr>
<tr>
<td><code>OutBox.Min</code></td>
<td>FVector</td>
<td>Coordinates of the top left corner of the bounding box</td>
</tr>
<tr>
<td><code>OutBox.Max</code></td>
<td>FVector</td>
<td>Coordinates of the bottom left corner of the bounding box</td>
</tr>
<tr>
<td><code>Extends.X</code></td>
<td>FVector</td>
<td>X coordinate of the bounding box around an actor</td>
</tr>
<tr>
<td><code>Extends.Y</code></td>
<td>FVector</td>
<td>Y coordinate of the bounding box around an actor</td>
</tr>
<tr>
<td><code>Extends.Z</code></td>
<td>FVector</td>
<td>Z coordinate of the bounding box around an actor</td>
</tr>
<tr>
<td><code>Distance</code></td>
<td>float</td>
<td>Sensor distance from the actor</td>
</tr>
</tbody>
</table>
<h3 id="output">Output:</h3>
<p>The box bounds of the detected actor, [x,y,z] coordinates, class ID, distance and whether the detected objects are commpletely inside or outside of the sensor view.</p>
<h2 id="3-requirements">3. Requirements</h2>
<p>Primary requiremnent: <code>Annotator.h</code>.</p>
<p>Calculating the bounding boxes is done by the file "BoundingBoxSensor.cpp", but for visualization (creating boxes over the detected objects in a RGB image) the following files are required:
1. SceneCaptureCamera.cpp
2. SceneCaptureCamera.h</p>
<p>While the <code>BoundingBoxSensor</code> itself calculates the bounding box extents, the visulaization of the boxes is performed by the <code>SceneCaptureSensor</code> that uses CanvasDrawItem method to draw colored lines corresponding to the class of each object using the box extents generated by the BoundingBoxSensor.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../SolidStateLidarSensor/" class="btn btn-neutral float-left" title="Solid State Lidar"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../Radar/" class="btn btn-neutral float-right" title="Radar">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../SolidStateLidarSensor/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../Radar/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
