<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Pedestrians - Limulator</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Pedestrians";
        var mkdocs_page_input_path = "PedestrianModelling.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Limulator
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Scenenario Generator</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../LLM-Scenario-Builder/">LLM Scenario Builder</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../OSM2XODR/">OSM To XODR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ManeuverGenerator/">Manuever Generator</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../VariationEngine/">Variation Engine</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Simulation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../game/">Game</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../lights/">Lights</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../map/">Map</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../weather/">Weather</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../visualizer/">Visalizer</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../core/">Core</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../TrafficManager/">Traffic</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../PedestrianManager/">Pedestrian</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Util/">Util</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Sensor</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../CameraSensor/">Camera</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../DepthCamera/">Depth Camera</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SemanticSegmentationCamera/">Semantic Segmentation Camera</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../LidarSensor/">Rotation Lidar</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SolidStateLidarSensor/">Solid State Lidar</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../BoundingBoxSensor/">Bounding Box Sensor</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Radar/">Radar</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Modelling</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../ToolSummary/">Tool Summary</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../LightsModelling/">Lights</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Pedestrians</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#version-10">Version 1.0</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#modeler-manasvi-kale">Modeler - Manasvi Kale</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#1-summary">1. Summary</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#2-method">2. Method</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#3-requirements">3. Requirements</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#4-how-to-guide">4. How-to-guide</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#41-step-1-creating-1d-blend-space">4.1 Step 1 - Creating 1D Blend Space</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#42-step-2-creating-animationbp-for-the-same-character">4.2 Step 2 - Creating AnimationBP for the same character.</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#43-step-3-nav-mesh">4.3 Step 3 - Nav Mesh</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#44-step-4-nav-mesh-modifier">4.4 Step 4 - Nav Mesh Modifier</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#45-step-5-pedestrian-paths">4.5 Step 5 - Pedestrian Paths</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../VehiclesModelling/">Vehicles</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Limulator</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Modelling</li>
      <li class="breadcrumb-item active">Pedestrians</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="dynamic-pedestrians">Dynamic Pedestrians</h1>
<h2 id="version-10">Version 1.0</h2>
<h3 id="modeler-manasvi-kale">Modeler - Manasvi Kale</h3>
<h2 id="1-summary">1. Summary</h2>
<p>This Document aims at the creation of the pedestrian blueprints in alignment with the pedestrian manager module. These pedestrians blueprints depicts the human behaviour during simulation. They can walk on footpaths, crosswalks, follows traffic lights, and can perform diverse actions such as running, jogging, walking, standing idle, sitting, and driving vehicles. </p>
<p>The asset library consists of 19 pedestrain assets and each of them has 6 animations respectively. </p>
<h2 id="2-method">2. Method</h2>
<p>Dynamic Pedestrian module consits of 7 different components which requires to be set up independently inorder for the whole module to work properly. Refer the how to guide set these components in alignment with each other. </p>
<p>Flowchart - </p>
<p><img alt="alt text" src="../resources/Pedestrian.drawio.png" /></p>
<h2 id="3-requirements">3. Requirements</h2>
<ol>
<li>Character Skeletal Mesh</li>
<li>Character Animations</li>
<li>1D Blend Space</li>
<li>Animation Blueprints</li>
<li>Nav Mesh </li>
<li>Nav Mesh Modifier</li>
<li>Pedestrian Path Blueprints </li>
</ol>
<h2 id="4-how-to-guide">4. How-to-guide</h2>
<h3 id="41-step-1-creating-1d-blend-space">4.1 Step 1 - Creating 1D Blend Space</h3>
<ol>
<li>Step 1 - Create a 1D BlendSpace and name it “name_anime_BS”, while creating this select your character skeleton in it. </li>
<li>Step 2 - Inside Blendspace rename horizontal axis as “speed”</li>
<li>Step 3 - Set max speed as 140</li>
<li>Step 4 - Add breathing idle in the bottom grid followed by walking idle 4 times in the same grid.</li>
<li>Step 5 - Save and close.</li>
</ol>
<p><img alt="alt text" src="../resources/BlendSpace_BP.png" /></p>
<h3 id="42-step-2-creating-animationbp-for-the-same-character">4.2 Step 2 - Creating AnimationBP for the same character.</h3>
<ol>
<li>Step 1 - Create an animation Blueprint from the drop-down that pops up after clicking right in the content folder. </li>
<li>Step 2 - While you create AnimBP it will ask for a target skeleton, select your character skeleton in that.</li>
<li>Step 3 - In anim graph add a new state machine, rename it to “charactername state machine”.</li>
<li>Step 4 - Double click and open state machine </li>
<li>Step 5 - Take the arrow from entry and add a new state, rename it to idle.</li>
<li>Step 6 - From idle state add a new state and rename it to walk. </li>
<li>Step 7 - Select transition node and set duration value to “0.5”. (For all the transition nodes)</li>
<li>Step 8 - Open the states added in earlier (i.e idle and walk)</li>
<li>Step 9 - Inside the idle state drag and drop idle animation from asset browser.</li>
<li>Step 10 - Join the animation node to the output animation node.</li>
<li>Step 11 - Now open walk state and drag and drop Blendspace that was created earlier</li>
<li>Step 12 - Right click on speed and promote it to variable</li>
<li>Step 13 - Now open idle to walk transition state<pre><code> 13.1 Drag speed from variable and add float greater than node, put value 0 and join it to result node.
</code></pre>
<ol>
<li>Step 14 - Open walk to idle transition drag speed variable in it, add float &lt; float node and add value as 0.001, connect it with output.</li>
<li>Step 15 - Open the event graph for animBP and add nodes shown in image below.</li>
</ol>
</li>
</ol>
<p>Image insertion - event graph of animationBP</p>
<ol>
<li>
<p>Step 16 - Compile and save</p>
</li>
<li>
<p>Step 17 - Finally, open the pedestrian BP , add this anim BP along with skeletal mesh and save it.</p>
</li>
</ol>
<p><img alt="alt text" src="../resources/Animation_BP.png" /></p>
<hr />
<p><img alt="alt text" src="../resources/StateMachine_BP.png" /></p>
<hr />
<p><img alt="alt text" src="../resources/EventGraph_BP.png" /></p>
<h3 id="43-step-3-nav-mesh">4.3 Step 3 -  Nav Mesh</h3>
<ol>
<li>Step 1 - Place nav mesh and scale it for the entire map and adjust it to be applicable only on all places pedestrians will move. </li>
</ol>
<h3 id="44-step-4-nav-mesh-modifier">4.4 Step 4 -  Nav Mesh Modifier</h3>
<ol>
<li>Step 1 -  If Nav mesh is covers the map including road as well. Put a Nav mesh modifier on the road and scale it, don’t cover crosswalks in it.</li>
</ol>
<h3 id="45-step-5-pedestrian-paths">4.5 Step 5 -  Pedestrian Paths</h3>
<ol>
<li>Step 1 - The pedestrian path spline BP component is placed in the pedestrains folder. Place the spline and extend it throughout the map at all places where pedestrains are expected to spawn.</li>
</ol>
<hr />
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../LightsModelling/" class="btn btn-neutral float-left" title="Lights"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../VehiclesModelling/" class="btn btn-neutral float-right" title="Vehicles">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../LightsModelling/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../VehiclesModelling/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
